# Playo - Take Home Project

### Requirements :   
1. Expense Tracker
2. URL Shortener
3. QR Generator


### Tech Stack :
- Node.Js/Express.Js
- MongoDB
- Mocha + Chai (for testing)

#### Steps to run the application :
- create a `config.env` file in `configuration` folder.   
Config.env file format -> 
```
DB=
PORT=
```
- To run the application type `npm run start` in terminal.

#### Steps to run the test cases : `npm test`


API documentation -> https://documenter.getpostman.com/view/14030847/2s9Xy3srgD 


### 1. Expense Tracker
- Models 
  - User Model 
    ```
    firstName: String,
    lastName: String,
    emailId: : String | Unique,
    joinedAt : Date
    ```
  - ExpenseLog Model
    ```
    expense: Number ,
    ownedTo: String  | indexed,
    ownedBy: String  | indexed
    ```
    
- #### Note : User's data will flow using two ways in our System.
    1. Via normal **POST** `/user`
    2. If someone tries to add an expense of the person who is not present in our system yet, then a new entry would be created `users` collection but `joinedAt` field of that user would be `null`. That will help us to identify if that user has actually joined our application or not.

### 2. URL Shortener
- One of my key project is URL shortener (https://github.com/Enforc3rr/SMLLR). Pls check it out.

### 3. QR Generator
- Models
    - User Model
      ```
      firstName : String,
      lastName : String,
      emailId: : String | Unique,
      joinedAt : Date
      ```
  - User Model
    ```
    generatedBy : String | Index,
    generatedAt : Date,
    fileName : String | Index,
    contentToEncode : String
    ``` 
    


#### Test cases Log
```
[11.08.2023 14:16.26.079] [LOG]   Starting server at PORT 8080


  Register a User
[11.08.2023 14:16.26.095] [LOG]   POST request received at /api/v1/user
[11.08.2023 14:16.26.095] [LOG]   Saving User Details
[11.08.2023 14:16.26.856] [LOG]   Connected To DB
[11.08.2023 14:16.27.131] [LOG]   Saved User Details test3@gmail.com
    ✔ Should register a user (1063ms)

  Register a User with invalid email ID
[11.08.2023 14:16.27.150] [LOG]   POST request received at /api/v1/user
[11.08.2023 14:16.27.150] [LOG]   Saving User Details
[11.08.2023 14:16.27.151] [WARN]  Invalid Email Detected @gmail.com
    ✔ Should not register a user

  Generate QR Code
[11.08.2023 14:16.27.155] [LOG]   POST request received at /api/v1/qr
[11.08.2023 14:16.27.284] [LOG]   QR 79700754-a165-422f-8b6d-8a38059da728.png successfully generated for the user test1@gmail.com
    ✔ Should Generate QR code (132ms)

  Generate QR Code for non registered user
[11.08.2023 14:16.27.287] [LOG]   POST request received at /api/v1/qr
    ✔ Should not Generate QR code (50ms)

  Generate QR Code for invalid string (string with spl characters)
[11.08.2023 14:16.27.337] [LOG]   POST request received at /api/v1/qr
[11.08.2023 14:16.27.386] [WARN]  Invalid content to encode format Detected #ell*1@
    ✔ Should not Generate QR code (51ms)

  Generate QR Code for invalid string (string with length greater than 6)
[11.08.2023 14:16.27.390] [LOG]   POST request received at /api/v1/qr
[11.08.2023 14:16.27.439] [WARN]  Invalid content to encode format Detected Hello12
    ✔ Should not Generate QR code (54ms)

  Fetch all the QR codes Meta Data generated by the user
[11.08.2023 14:16.27.445] [LOG]   GET request received at /api/v1/qr/test1@gmail.com
    ✔ Should Fetch all QR Codes Meta Data generated by the user (118ms)

  Create Expense for users
[11.08.2023 14:16.27.564] [LOG]   POST request received at /api/v1/expenses
[11.08.2023 14:16.27.564] [LOG]   Finding user data of test1@gmail.com
    ✔ Should create and divide expense amongst users (280ms)

  Un-registered user tries to create an expense
[11.08.2023 14:16.27.848] [LOG]   POST request received at /api/v1/expenses
[11.08.2023 14:16.27.848] [LOG]   Finding user data of test12@gmail.com
    ✔ Should not Generate QR code (60ms)

  Create Expense for users with negative number
[11.08.2023 14:16.27.907] [LOG]   POST request received at /api/v1/expenses
[11.08.2023 14:16.27.907] [LOG]   Finding user data of test1@gmail.com
    ✔ Should create and divide expense amongst users (55ms)

  Create Expense for users with string instead of number
[11.08.2023 14:16.27.963] [LOG]   POST request received at /api/v1/expenses
[11.08.2023 14:16.27.963] [LOG]   Finding user data of test1@gmail.com
    ✔ Should create and divide expense amongst users (52ms)

  Fetch all the expenses of a given user
[11.08.2023 14:16.28.016] [LOG]   GET request received at /api/v1/expenses/test1@gmail.com
[11.08.2023 14:16.28.016] [LOG]   Requesting to find user data of test1@gmail.com
[11.08.2023 14:16.28.122] [LOG]   Found user data of test1@gmail.com
    ✔ Should Fetch all the expenses of a given user (110ms)


  12 passing (2s)

```




    



    
